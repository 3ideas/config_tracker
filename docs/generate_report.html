---

title: generate_report


keywords: fastai
sidebar: home_sidebar

summary: "This takes two branches and compares them for differences. Any differences are made into a summay html page, and details pages for each table/file that has difference in it. It also saves a copy of the files that are different if required in the report directory"
description: "This takes two branches and compares them for differences. Any differences are made into a summay html page, and details pages for each table/file that has difference in it. It also saves a copy of the files that are different if required in the report directory"
nb_path: "04_generate_report.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 04_generate_report.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_output_from_cmd" class="doc_header"><code>get_output_from_cmd</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L37" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_output_from_cmd</code>(<strong><code>cmd</code></strong>)</p>
</blockquote>
<p>Get the output from a command</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="run_subprocess" class="doc_header"><code>run_subprocess</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L51" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>run_subprocess</code>(<strong><code>command</code></strong>)</p>
</blockquote>
<p>Run the subprocess</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="GitRepositoryReader" class="doc_header"><code>class</code> <code>GitRepositoryReader</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L76" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>GitRepositoryReader</code>(<strong><code>repository</code></strong>, <strong><code>output_dir</code></strong>, <strong><code>branch1</code></strong>, <strong><code>branch2</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="parse_commitstr_to_datetime" class="doc_header"><code>parse_commitstr_to_datetime</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L175" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>parse_commitstr_to_datetime</code>(<strong><code>string</code></strong>)</p>
</blockquote>
<p>Parse the string  to a timestamp, tries to interperate the comment as a date.
TODO: use the commit date itself !</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="copyfile_fullpath" class="doc_header"><code>copyfile_fullpath</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L198" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>copyfile_fullpath</code>(<strong><code>file_name</code></strong>, <strong><code>dest_dir</code></strong>)</p>
</blockquote>
<p>Copy the file to the destination dir in the same directory structure as its original path</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="mkdir_for_fullpath" class="doc_header"><code>mkdir_for_fullpath</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L230" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>mkdir_for_fullpath</code>(<strong><code>filename_output_location</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_files_from_output_branch" class="doc_header"><code>remove_files_from_output_branch</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L259" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_files_from_output_branch</code>(<strong><code>output_dir</code></strong>, <strong><code>branch</code></strong>, <strong><code>files</code></strong>)</p>
</blockquote>
<p>remove  files from the output directory</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_files_from_output" class="doc_header"><code>remove_files_from_output</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L268" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_files_from_output</code>(<strong><code>output_dir</code></strong>, <strong><code>branch1</code></strong>, <strong><code>branch2</code></strong>, <strong><code>file_list</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_report_name_refs" class="doc_header"><code>get_report_name_refs</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L288" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_report_name_refs</code>(<strong><code>repository_filename</code></strong>, <strong><code>change_ref</code></strong>=<em><code>None</code></em>, <strong><code>report_base</code></strong>=<em><code>''</code></em>, <strong><code>output_dir</code></strong>=<em><code>None</code></em>, <strong><code>add_report_base_to_link</code></strong>=<em><code>False</code></em>, <strong><code>link_ref_strip_dir</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>given a repository filename, returns the name stripped in 3 forms
the visible_name, the link_ref and the filename it should be stored under
also works for non-repository names ...</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_output_directories" class="doc_header"><code>make_output_directories</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L336" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_output_directories</code>(<strong><code>output_dir</code></strong>, <strong><code>base</code></strong>)</p>
</blockquote>
<p>make the directories required for the reports</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_relative_path" class="doc_header"><code>get_relative_path</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L359" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_relative_path</code>(<strong><code>repository_filename</code></strong>)</p>
</blockquote>
<p>returns the path back to the base dir, from the given filename</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="copy_style_and_bootstrap" class="doc_header"><code>copy_style_and_bootstrap</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L376" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>copy_style_and_bootstrap</code>(<strong><code>src</code></strong>, <strong><code>dst</code></strong>)</p>
</blockquote>
<p>copy the required styles to dst.
copies all the files from src to dst, if dst already exists it does nothing</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bootstrap_navbar" class="doc_header"><code>bootstrap_navbar</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L385" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bootstrap_navbar</code>(<strong><code>relative_path</code></strong>=<em><code>''</code></em>, <strong><code>title</code></strong>=<em><code>''</code></em>, <strong><code>description</code></strong>=<em><code>''</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="header" class="doc_header"><code>header</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L395" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>header</code>(<strong><code>relative_path</code></strong>=<em><code>''</code></em>, <strong><code>description</code></strong>=<em><code>''</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="footer" class="doc_header"><code>footer</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L408" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>footer</code>(<strong><code>footer_text</code></strong>=<em><code>'&lt;a href="https://github.com/3ideas/config_tracker"&gt;Config Tracker&lt;/a&gt; written by &lt;a href="https://3ideas.co.uk/"&gt;3ideas.co.uk&lt;/a&gt;'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="page" class="doc_header"><code>page</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L415" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>page</code>(<strong><code>relative_path</code></strong>=<em><code>''</code></em>, <strong><code>description</code></strong>=<em><code>''</code></em>, <strong><code>content</code></strong>=<em><code>''</code></em>, <strong><code>title</code></strong>=<em><code>''</code></em>, <strong><code>footer_text</code></strong>=<em><code>'&lt;a href="https://github.com/3ideas/config_tracker"&gt;Config Tracker&lt;/a&gt; written by &lt;a href="https://3ideas.co.uk/"&gt;3ideas.co.uk&lt;/a&gt;'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="diff2html_template" class="doc_header"><code>diff2html_template</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L427" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>diff2html_template</code>(<strong><code>relative_path</code></strong>=<em><code>''</code></em>, <strong><code>description</code></strong>=<em><code>''</code></em>, <strong><code>title</code></strong>=<em><code>''</code></em>, <strong><code>footer_text</code></strong>=<em><code>'&lt;a href="https://github.com/3ideas/config_tracker"&gt;Config Tracker&lt;/a&gt; written by &lt;a href="https://3ideas.co.uk/"&gt;3ideas.co.uk&lt;/a&gt;'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generate_difference_report_page" class="doc_header"><code>generate_difference_report_page</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L467" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generate_difference_report_page</code>(<strong><code>r</code></strong>, <strong><code>repository_filename</code></strong>, <strong><code>branch1</code></strong>, <strong><code>branch2</code></strong>, <strong><code>output_file_name</code></strong>, <strong><code>description</code></strong>, <strong><code>title</code></strong>)</p>
</blockquote>
<p>generate a difference report for <code>file</code>.
This function assumes the files have already been copied to each of the branch sub directories
This will work for comparing between systems or comparing history of the file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BranchComparisonReport" class="doc_header"><code>class</code> <code>BranchComparisonReport</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L558" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BranchComparisonReport</code>(<strong><code>repository</code></strong>, <strong><code>branch1</code></strong>, <strong><code>branch2</code></strong>, <strong><code>output_dir</code></strong>, <strong><code>title</code></strong>=<em><code>'Config Tracker'</code></em>, <strong><code>styles_src</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FileChangeHistoryReportForBranch" class="doc_header"><code>class</code> <code>FileChangeHistoryReportForBranch</code><a href="https://github.com/3ideas/config_tracker/tree/master/config_tracker/generate_report.py#L641" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FileChangeHistoryReportForBranch</code>(<strong><code>repository</code></strong>, <strong><code>branch</code></strong>, <strong><code>output_dir</code></strong>, <strong><code>title</code></strong>=<em><code>'Config Tracker'</code></em>, <strong><code>styles_src</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

